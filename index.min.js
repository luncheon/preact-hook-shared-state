import{useEffect as t,useState as e}from"preact/hooks";const o=[];export const createSharedState=r=>{const n=new Set;return[()=>{const c=e()[1];return t(()=>(n.add(c),()=>n.delete(c)),o),r},t=>{r="function"==typeof t?t(r):t;for(const t of n)t(r)}]};