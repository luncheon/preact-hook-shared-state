import{useEffect as t,useState as e}from"preact/hooks";const o=[];export const createSharedState=r=>{const n=new Set;return[()=>{const c=e()[1];t(()=>(n.add(c),()=>n.delete(c)),o);return r},t=>{r=typeof t==="function"?t(r):t;for(const t of n){t(r)}}]};